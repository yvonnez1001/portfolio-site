<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Portfolio</title>
  <style>
    body{margin:0;font-family:Arial,Helvetica,sans-serif;color:#111;background:#fff}
    /* Header */
    header{position:fixed;top:0;left:0;right:0;height:64px;z-index:1000;background:#fff;border-bottom:1px solid #eee}
    .bar{max-width:1200px;margin:0 auto;height:64px;display:flex;align-items:center;justify-content:space-between;padding:0 24px}
    .logo img{height:32px}
    nav a{margin-left:20px;text-decoration:none;color:#111;font-weight:600}
    nav a:hover{text-decoration:underline}

    /* Hero */
    .hero{height:100vh;min-height:520px;position:relative;overflow:hidden}
    .hero video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}

    /* Scroll indicator (bigger, no text, moved up) */
    .scroll-indicator{
      position:absolute;left:50%;top:75%;transform:translateX(-50%);
      display:flex;flex-direction:column;align-items:center;gap:6px;
      filter:drop-shadow(0 2px 6px rgba(0,0,0,.5))
    }
    .chev{
      width:56px;height:56px;border-left:6px solid #fff;border-bottom:6px solid #fff;
      transform:rotate(-45deg);
      animation:bounce 1.2s ease-in-out infinite;
    }
    @keyframes bounce{
      0%,100%{transform:translateY(0) rotate(-45deg)}
      50%{transform:translateY(12px) rotate(-45deg)}
    }

    /* Work Grid */
    #work{scroll-margin-top:80px;padding:80px 24px;max-width:1200px;margin:0 auto}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px}
    .tile img{width:100%;display:block;border-radius:8px;cursor:pointer}

    /* Modal (overlay) */
    .modal{position:fixed;inset:0;display:none;align-items:flex-start;justify-content:center;z-index:2000;background:rgba(0,0,0,.85)}
    .modal.open{display:flex}
    .modal-card{background:#fff;max-width:1200px;width:90%;margin:64px auto;border-radius:10px;position:relative;max-height:90vh;display:flex;flex-direction:column}
    .modal-scroll{padding:24px;overflow:auto}
    .close{position:absolute;top:14px;right:18px;font-size:28px;font-weight:800;cursor:pointer;color:#333}

    /* Media (16:9) */
    .media{position:relative;background:#000;border-radius:8px;overflow:hidden;margin-bottom:20px}
    .media::before{content:"";display:block;padding-top:56.25%}
    .media iframe{position:absolute;inset:0;width:100%;height:100%;border:0}

    /* PDF images (pages) */
    .pdf-images img{display:block;max-width:100%;margin:0 auto 20px;border-radius:8px}

    /* Contact section */
    #contact{scroll-margin-top:80px;background:#fafafa;border-top:1px solid #eee}
    .contact-inner{max-width:1200px;margin:0 auto;padding:48px 24px}
    .contact-inner h2{margin:0 0 12px}
    .contact-inner a{color:#111}
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="bar">
      <div class="logo"><img src="images/logo.png" alt="Logo" /></div>
      <nav>
        <a href="#work">work</a>
        <a href="#contact">contact</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- Hero -->
    <section class="hero" aria-label="hero video">
      <video autoplay muted loop playsinline>
        <source src="videos/loop.webm" type="video/webm" />
        <source src="videos/loop.mp4" type="video/mp4" />
      </video>
      <a class="scroll-indicator" href="#work" aria-label="Scroll down">
        <div class="chev"></div>
      </a>
    </section>

    <!-- Work -->
    <section id="work">
      <div class="grid">
        <div class="tile" onclick="openModal(1)"><img src="images/project1-thumb.png" alt="Project 1" /></div>
        <div class="tile" onclick="openModal(2)"><img src="images/project2-thumb.png" alt="Project 2" /></div>
        <div class="tile" onclick="openModal(3)"><img src="images/project3-thumb.png" alt="Project 3" /></div>
        <div class="tile" onclick="openModal(4)"><img src="images/project4-thumb.png" alt="Project 4" /></div>
        <div class="tile" onclick="openModal(5)"><img src="images/project5-thumb.png" alt="Project 5" /></div>
        <div class="tile" onclick="openModal(6)"><img src="images/project6-thumb.png" alt="Project 6" /></div>
        <div class="tile" onclick="openModal(7)"><img src="images/project7-thumb.png" alt="Project 7" /></div>
        <div class="tile" onclick="openModal(8)"><img src="images/project8-thumb.png" alt="Project 8" /></div>
        <div class="tile" onclick="openModal(9)"><img src="images/project9-thumb.png" alt="Project 9" /></div>
        <div class="tile" onclick="openModal(10)"><img src="images/project10-thumb.png" alt="Project 10" /></div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact">
      <div class="contact-inner">
        <h2>Contact</h2>
        <p>Email：<a href="mailto:yifanzyfzhang@gmail.com">yifanzyfzhang@gmail.com</a></p>
        <p>Vimeo：<a href="https://vimeo.com/user83717382?fl=pp&fe=sh" target="_blank" rel="noopener">vimeo.com/user83717382</a></p>
      </div>
    </section>
  </main>

  <!-- Modal -->
  <div id="modal" class="modal" onclick="closeModal()">
    <div class="modal-card" onclick="event.stopPropagation()" role="dialog" aria-modal="true">
      <span class="close" onclick="closeModal()" aria-label="Close">×</span>
      <div id="modal-scroll" class="modal-scroll">
        <div id="modal-body"></div>
      </div>
    </div>
  </div>

  <script>
    const projects = {
      1: { vimeo: "https://player.vimeo.com/video/1121457465", folder: "docs_images/project1" },
      2: { vimeo: "https://player.vimeo.com/video/1121401017", folder: "docs_images/project2" },
      3: { vimeo: "https://player.vimeo.com/video/1062819384", folder: "docs_images/project3" },
      4: { vimeo: "https://player.vimeo.com/video/1121577112", folder: "docs_images/project4" },
      5: { vimeo: "https://player.vimeo.com/video/1121403218", folder: "docs_images/project5" },
      6: { vimeo: "https://player.vimeo.com/video/1065488236", folder: "docs_images/project6" },
      7: { vimeo: "https://player.vimeo.com/video/1121406204", folder: "docs_images/project7" },
      8: { vimeo: "https://player.vimeo.com/video/1121618965", folder: "docs_images/project8" },
      9: { vimeo: "https://player.vimeo.com/video/1121403407", folder: "docs_images/project9" },
      10:{ vimeo: "https://player.vimeo.com/video/1121406004", folder: "docs_images/project10" }
    };

    function generateImageTags(folder, maxPages = 60) {
      let html = "";
      for (let i = 1; i <= maxPages; i++) {
        ["jpg","png","webp"].forEach(ext => {
          const url = `${folder}/page${i}.${ext}`;
          html += `<img src="${url}" alt="page ${i}" loading="lazy" onerror="this.remove()">`;
        });
      }
      return html;
    }

    function openModal(n) {
      const modal = document.getElementById("modal");
      const body  = document.getElementById("modal-body");
      const scroller = document.getElementById("modal-scroll");
      const p = projects[n];

      body.innerHTML = `
        <div class="media">
          <iframe src="${p.vimeo}" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>
        </div>
        <div class="pdf-images">
          ${generateImageTags(p.folder, 60)}
        </div>
      `;

      modal.classList.add("open");
      document.body.style.overflow = "hidden";
      modal.scrollTop = 0;
      scroller.scrollTop = 0;
      requestAnimationFrame(()=>{ modal.scrollTop = 0; scroller.scrollTop = 0; });
    }

    function closeModal() {
      document.getElementById("modal").classList.remove("open");
      document.getElementById("modal-body").innerHTML = "";
      document.body.style.overflow = "";
    }

    document.addEventListener("keydown", e => { if (e.key === "Escape") closeModal(); });
  </script>
</body>
</html>
